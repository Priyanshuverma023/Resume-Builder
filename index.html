<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta name="description" content="Professional ATS Resume Builder">
    <title>Resume Builder</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-top">
            <div class="header-title">
                <h1>Resume Builder</h1>
                <p>Create ATS-optimized resumes with industry-standard formatting</p>
            </div>
            <div class="header-actions">
                <button class="btn-secondary" id="clear-all-data">
                    <img src="assets/svg/trash.svg" width="18" height="18" alt="" class="icon">
                    <span>Clear</span>
                </button>
                <button class="btn-primary" id="download-pdf">
                    <img src="assets/svg/download.svg" width="18" height="18" alt="" class="icon">
                    <span>Download PDF</span>
                </button>
            </div>
        </div>

        <div class="header-controls">
            <div class="template-group">
                <label for="template-select">Template</label>
                <select id="template-select" class="template-select">
                    <option value="ats-tech">Software Engineering</option>
                    <option value="ats-data-science">Data Science / AI / ML</option>
                    <option value="ats-devops">DevOps / Cloud Engineer</option>
                    <option value="ats-product">Product Manager</option>
                    <option value="ats-uiux">UI/UX Designer</option>
                    <option value="ats-business">Business / Finance</option>
                    <option value="ats-healthcare">Healthcare / Medical</option>
                    <option value="ats-engineering">Engineering (Mech/Civil)</option>
                    <option value="ats-marketing">Digital Marketing</option>
                    <option value="ats-education">Education / Teaching</option>
                    <option value="ats-sales">Sales / Account Mgmt</option>
                    <option value="ats-hr">Human Resources</option>
                    <option value="ats-legal">Legal / Compliance</option>
                </select>
            </div>
        </div>

        <!-- Navigation Tabs with Scroll Wrapper -->
        <div class="nav-tabs-wrapper" id="nav-tabs-wrapper">
            <button class="nav-scroll-indicator left" id="scroll-left" aria-label="Scroll left">
                <img src="assets/svg/chevron-left.svg" width="20" height="20" alt="" class="icon">
            </button>
            <nav class="nav-tabs" id="nav-tabs">
            <button class="nav-tab active" data-section="personal">
                <img src="assets/svg/user.svg" width="24" height="24" alt="" class="icon">
                <span>Personal Info</span>
                <span class="badge" id="badge-personal"></span>
            </button>
            <button class="nav-tab" data-section="summary">
                <img src="assets/svg/document.svg" width="24" height="24" alt="" class="icon">
                <span>Summary</span>
                <span class="badge" id="badge-summary"></span>
            </button>
            <button class="nav-tab" data-section="experience">
                <img src="assets/svg/briefcase.svg" width="24" height="24" alt="" class="icon">
                <span>Experience</span>
                <span class="badge" id="badge-experience"></span>
            </button>
            <button class="nav-tab" data-section="projects">
                <img src="assets/svg/code.svg" width="24" height="24" alt="" class="icon">
                <span>Projects</span>
                <span class="badge" id="badge-projects"></span>
            </button>
            <button class="nav-tab" data-section="education">
                <img src="assets/svg/education.svg" width="24" height="24" alt="" class="icon">
                <span>Education</span>
                <span class="badge" id="badge-education"></span>
            </button>
            <button class="nav-tab" data-section="skills">
                <img src="assets/svg/skills.svg" width="24" height="24" alt="" class="icon">
                <span>Skills</span>
                <span class="badge" id="badge-skills"></span>
            </button>
            <button class="nav-tab" data-section="certifications">
                <img src="assets/svg/certificate.svg" width="24" height="24" alt="" class="icon">
                <span>Certifications</span>
                <span class="badge" id="badge-certifications"></span>
            </button>
        </nav>
        <button class="nav-scroll-indicator right" id="scroll-right" aria-label="Scroll right">
            <img src="assets/svg/chevron-right.svg" width="20" height="20" alt="" class="icon">
        </button>
        </div>
    </header>

    <!-- Main Layout -->
    <div class="main-layout">
        <!-- Content Area -->
        <div class="content-area">
            <div class="content-container">
                <!-- ATS Tips -->
                <div class="ats-tips" id="ats-tips">
                    <div class="tips-header">
                        <img src="assets/svg/info.svg" width="20" height="20" alt="" class="icon">
                        <h3>ATS Optimization Tips</h3>
                        <button class="zoom-btn" id="toggle-tips">
                            <img src="assets/svg/chevron-down.svg" width="16" height="16" alt="" class="icon">
                        </button>
                    </div>
                    <div class="tips-content" id="ats-tips-content">
                        <p>Select a template to see role-specific ATS optimization tips.</p>
                    </div>
                </div>

                <!-- Personal Info Section -->
                <div class="section active" data-section="personal">
                    <div class="section-header">
                        <h2>Personal Information</h2>
                    </div>
                    <div class="form-card">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Full Name <span class="required">*</span></label>
                                <input type="text" id="full-name" placeholder="John Doe">
                            </div>
                            <div class="form-group">
                                <label>Job Title <span class="required">*</span></label>
                                <input type="text" id="job-title" placeholder="Senior Software Engineer">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Email <span class="required">*</span></label>
                                <input type="email" id="email" placeholder="john@example.com">
                            </div>
                            <div class="form-group">
                                <label>Phone</label>
                                <input type="tel" id="phone" placeholder="+1 (555) 123-4567">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Location</label>
                                <input type="text" id="location" placeholder="San Francisco, CA">
                            </div>
                            <div class="form-group">
                                <label>LinkedIn</label>
                                <input type="text" id="linkedin" placeholder="linkedin.com/in/johndoe">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>GitHub</label>
                                <input type="text" id="github" placeholder="github.com/johndoe">
                            </div>
                            <div class="form-group">
                                <label>Portfolio</label>
                                <input type="text" id="portfolio" placeholder="johndoe.com">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Summary Section -->
                <div class="section" data-section="summary">
                    <div class="section-header">
                        <h2>Professional Summary</h2>
                    </div>
                    <div class="form-card">
                        <div class="form-group">
                            <label>Summary</label>
                            <textarea id="summary-text" rows="6" placeholder="Results-driven professional with X years of experience..."></textarea>
                            <div class="input-footer">
                                <small>3-5 sentences with key achievements and skills</small>
                                <span id="summary-char-count">0 / 500</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Experience Section -->
                <div class="section" data-section="experience">
                    <div class="section-header">
                        <h2>Work Experience</h2>
                        <button class="btn-add" id="add-experience">
                            <img src="assets/svg/add.svg" width="16" height="16" alt="" class="icon">
                            Add Experience
                        </button>
                    </div>
                    <div id="experience-list" class="list-container">
                        <div class="empty-state" id="experience-empty">
                            <img src="assets/svg/briefcase.svg" width="64" height="64" alt="" class="icon">
                            <p>No experience added yet</p>
                            <span>Click "Add Experience" to get started</span>
                        </div>
                    </div>
                </div>

                <!-- Projects Section -->
                <div class="section" data-section="projects">
                    <div class="section-header">
                        <h2>Projects</h2>
                        <button class="btn-add" id="add-project">
                            <img src="assets/svg/add.svg" width="16" height="16" alt="" class="icon">
                            Add Project
                        </button>
                    </div>
                    <div id="projects-list" class="list-container">
                        <div class="empty-state" id="projects-empty">
                            <img src="assets/svg/code.svg" width="64" height="64" alt="" class="icon">
                            <p>No projects added yet</p>
                            <span>Click "Add Project" to showcase your work</span>
                        </div>
                    </div>
                </div>

                <!-- Education Section -->
                <div class="section" data-section="education">
                    <div class="section-header">
                        <h2>Education</h2>
                        <button class="btn-add" id="add-education">
                            <img src="assets/svg/add.svg" width="16" height="16" alt="" class="icon">
                            Add Education
                        </button>
                    </div>
                    <div id="education-list" class="list-container">
                        <div class="empty-state" id="education-empty">
                            <img src="assets/svg/education.svg" width="64" height="64" alt="" class="icon">
                            <p>No education added yet</p>
                            <span>Click "Add Education" to add your qualifications</span>
                        </div>
                    </div>
                </div>

                <!-- Skills Section -->
                <div class="section" data-section="skills">
                    <div class="section-header">
                        <h2>Skills</h2>
                        <button class="btn-add" id="add-skill">
                            <img src="assets/svg/add.svg" width="16" height="16" alt="" class="icon">
                            Add Skill
                        </button>
                    </div>
                    <div id="skills-list" class="skills-grid">
                        <div class="empty-state" id="skills-empty">
                            <img src="assets/svg/skills.svg" width="64" height="64" alt="" class="icon">
                            <p>No skills added yet</p>
                            <span>Click "Add Skill" to list your technical skills</span>
                        </div>
                    </div>
                </div>

                <!-- Certifications Section -->
                <div class="section" data-section="certifications">
                    <div class="section-header">
                        <h2>Certifications</h2>
                        <button class="btn-add" id="add-certification">
                            <img src="assets/svg/add.svg" width="16" height="16" alt="" class="icon">
                            Add Certification
                        </button>
                    </div>
                    <div id="certifications-list" class="list-container">
                        <div class="empty-state" id="certifications-empty">
                            <img src="assets/svg/certificate.svg" width="64" height="64" alt="" class="icon">
                            <p>No certifications added yet</p>
                            <span>Click "Add Certification" to add your credentials</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Preview Panel -->
        <aside class="preview-panel" id="preview-panel">
            <div class="preview-header">
                <h3>Preview</h3>
                <div class="preview-controls">
                    <button class="zoom-btn" id="zoom-out">
                        <img src="assets/svg/zoom-out.svg" width="18" height="18" alt="" class="icon">
                    </button>
                    <span class="zoom-level" id="zoom-level">100%</span>
                    <button class="zoom-btn" id="zoom-in">
                        <img src="assets/svg/zoom-in.svg" width="18" height="18" alt="" class="icon">
                    </button>
                    <button class="zoom-btn preview-close" id="close-preview-mobile" style="display: none;">
                        <img src="assets/svg/close.svg" width="18" height="18" alt="" class="icon">
                    </button>
                </div>
            </div>
            <div class="preview-content">
                <div class="resume-wrapper" id="resume-wrapper">
                    <div class="resume" id="resume-output">
                        <div class="resume-placeholder">
                            <img src="assets/svg/document.svg" width="80" height="80" alt="" class="icon">
                            <p>Start filling in your details to see your resume</p>
                        </div>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <!-- Mobile Preview Toggle -->
    <button class="mobile-preview-toggle" id="toggle-preview-mobile">
        <img src="assets/svg/eye.svg" width="24" height="24" alt="" class="icon">
    </button>

    <!-- Toast Container -->
    <div class="toast-container" id="toast-container"></div>

    <!-- Clear-all confirmation card (warning modal) -->
    <div class="rb-confirm-overlay" id="clear-all-confirm-overlay" aria-hidden="true">
        <div class="rb-confirm-card" role="dialog" aria-labelledby="rb-confirm-title" aria-modal="true">
            <div class="rb-confirm-icon-wrap">
                <img src="assets/svg/warning.svg" width="48" height="48" alt="" class="rb-confirm-icon">
            </div>
            <h3 class="rb-confirm-title" id="rb-confirm-title">Clear all data?</h3>
            <p class="rb-confirm-message">This will permanently delete all your resume data. This action cannot be undone.</p>
            <div class="rb-confirm-actions">
                <button type="button" class="rb-btn rb-btn-secondary" id="clear-all-cancel">Cancel</button>
                <button type="button" class="rb-btn rb-btn-danger" id="clear-all-confirm">Clear all</button>
            </div>
        </div>
    </div>

    <!-- Autosave Indicator -->
    <div class="autosave-indicator" id="autosave-indicator">
        <img src="assets/svg/check.svg" width="16" height="16" alt="" class="icon">
        <span>Auto-saved</span>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="js/app.js"></script>
    <script>
        // ===== SMOOTH SCROLLING FOR NAVIGATION TABS =====
        (function() {
            const navTabs = document.getElementById('nav-tabs');
            const navWrapper = document.getElementById('nav-tabs-wrapper');
            const scrollLeft = document.getElementById('scroll-left');
            const scrollRight = document.getElementById('scroll-right');

            if (!navTabs) return;

            // Smooth scroll function with easing
            function smoothScroll(element, target, duration) {
                const start = element.scrollLeft;
                const change = target - start;
                const startTime = performance.now();

                function easeInOutQuad(t) {
                    return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;
                }

                function animateScroll(currentTime) {
                    const elapsed = currentTime - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    const eased = easeInOutQuad(progress);
                    
                    element.scrollLeft = start + (change * eased);
                    
                    if (progress < 1) {
                        requestAnimationFrame(animateScroll);
                    }
                }

                requestAnimationFrame(animateScroll);
            }

            // Scroll left button
            if (scrollLeft) {
                scrollLeft.addEventListener('click', () => {
                    const scrollAmount = navTabs.clientWidth * 0.7;
                    smoothScroll(navTabs, navTabs.scrollLeft - scrollAmount, 300);
                });
            }

            // Scroll right button
            if (scrollRight) {
                scrollRight.addEventListener('click', () => {
                    const scrollAmount = navTabs.clientWidth * 0.7;
                    smoothScroll(navTabs, navTabs.scrollLeft + scrollAmount, 300);
                });
            }

            // Check if tabs overflow and show indicators
            function checkOverflow() {
                const hasOverflow = navTabs.scrollWidth > navTabs.clientWidth;
                if (hasOverflow) {
                    navWrapper.classList.add('has-scroll');
                } else {
                    navWrapper.classList.remove('has-scroll');
                }

                // Update indicator visibility based on scroll position
                if (scrollLeft && scrollRight) {
                    scrollLeft.style.display = navTabs.scrollLeft > 10 ? 'flex' : 'none';
                    scrollRight.style.display = 
                        navTabs.scrollLeft < (navTabs.scrollWidth - navTabs.clientWidth - 10) ? 'flex' : 'none';
                }
            }

            // Mouse wheel horizontal scroll
            navTabs.addEventListener('wheel', (e) => {
                if (e.deltaY !== 0) {
                    e.preventDefault();
                    navTabs.scrollLeft += e.deltaY;
                }
            }, { passive: false });

            // Touch swipe for mobile
            let touchStartX = 0;
            let scrollStartX = 0;

            navTabs.addEventListener('touchstart', (e) => {
                touchStartX = e.touches[0].clientX;
                scrollStartX = navTabs.scrollLeft;
            }, { passive: true });

            navTabs.addEventListener('touchmove', (e) => {
                const touchX = e.touches[0].clientX;
                const diff = touchStartX - touchX;
                navTabs.scrollLeft = scrollStartX + diff;
            }, { passive: true });

            // Update on scroll
            navTabs.addEventListener('scroll', checkOverflow);

            // Update on resize
            window.addEventListener('resize', checkOverflow);

            // Initial check
            checkOverflow();
            setTimeout(checkOverflow, 100); // Double check after render
        })();

        // ===== MOBILE PREVIEW TOGGLE =====
        const togglePreviewMobile = document.getElementById('toggle-preview-mobile');
        const closePreviewMobile = document.getElementById('close-preview-mobile');
        const previewPanel = document.getElementById('preview-panel');

        if (togglePreviewMobile) {
            togglePreviewMobile.addEventListener('click', () => {
                previewPanel.classList.add('open');
                if (closePreviewMobile) closePreviewMobile.style.display = 'block';
            });
        }

        if (closePreviewMobile) {
            closePreviewMobile.addEventListener('click', () => {
                previewPanel.classList.remove('open');
            });
        }

        // Close preview when clicking outside on mobile
        if (window.innerWidth <= 768 && previewPanel) {
            previewPanel.addEventListener('click', (e) => {
                if (e.target === previewPanel) {
                    previewPanel.classList.remove('open');
                }
            });
        }

        // ===== NAVIGATION TABS SWITCHING =====
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                const section = tab.dataset.section;
                
                // Update active tab
                document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // Update active section
                document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
                const targetSection = document.querySelector(`.section[data-section="${section}"]`);
                if (targetSection) targetSection.classList.add('active');

                // Scroll active tab into view
                tab.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
            });
        });
    </script>
</body>
</html>