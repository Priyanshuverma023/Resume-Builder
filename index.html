<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta name="description" content="Professional ATS Resume Builder">
    <title>Resume Builder</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-top">
            <div class="header-title">
                <h1>Resume Builder</h1>
                <p>Create ATS-optimized resumes with industry-standard formatting</p>
            </div>
            <div class="header-actions">
                <button class="btn-secondary" id="clear-all-data">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="3 6 5 6 21 6"></polyline>
                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                    </svg>
                    <span>Clear</span>
                </button>
                <button class="btn-primary" id="download-pdf">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                    <span>Download PDF</span>
                </button>
            </div>
        </div>

        <div class="header-controls">
            <div class="template-group">
                <label for="template-select">Template</label>
                <select id="template-select" class="template-select">
                    <option value="ats-tech">Software Engineering</option>
                    <option value="ats-data-science">Data Science / AI / ML</option>
                    <option value="ats-devops">DevOps / Cloud Engineer</option>
                    <option value="ats-product">Product Manager</option>
                    <option value="ats-uiux">UI/UX Designer</option>
                    <option value="ats-business">Business / Finance</option>
                    <option value="ats-healthcare">Healthcare / Medical</option>
                    <option value="ats-engineering">Engineering (Mech/Civil)</option>
                    <option value="ats-marketing">Digital Marketing</option>
                    <option value="ats-education">Education / Teaching</option>
                    <option value="ats-sales">Sales / Account Mgmt</option>
                    <option value="ats-hr">Human Resources</option>
                    <option value="ats-legal">Legal / Compliance</option>
                </select>
            </div>
        </div>

        <!-- Navigation Tabs with Scroll Wrapper -->
        <div class="nav-tabs-wrapper" id="nav-tabs-wrapper">
            <button class="nav-scroll-indicator left" id="scroll-left" aria-label="Scroll left">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="15 18 9 12 15 6"></polyline>
                </svg>
            </button>
            <nav class="nav-tabs" id="nav-tabs">
            <button class="nav-tab active" data-section="personal">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                </svg>
                <span>Personal Info</span>
                <span class="badge" id="badge-personal"></span>
            </button>
            <button class="nav-tab" data-section="summary">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="17" y1="10" x2="3" y2="10"></line>
                    <line x1="21" y1="6" x2="3" y2="6"></line>
                    <line x1="21" y1="14" x2="3" y2="14"></line>
                    <line x1="17" y1="18" x2="3" y2="18"></line>
                </svg>
                <span>Summary</span>
                <span class="badge" id="badge-summary"></span>
            </button>
            <button class="nav-tab" data-section="experience">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                    <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                </svg>
                <span>Experience</span>
                <span class="badge" id="badge-experience"></span>
            </button>
            <button class="nav-tab" data-section="projects">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="16 18 22 12 16 6"></polyline>
                    <polyline points="8 6 2 12 8 18"></polyline>
                </svg>
                <span>Projects</span>
                <span class="badge" id="badge-projects"></span>
            </button>
            <button class="nav-tab" data-section="education">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 10v6M2 10l10-5 10 5-10 5z"></path>
                    <path d="M6 12v5c0 2 2 3 6 3s6-1 6-3v-5"></path>
                </svg>
                <span>Education</span>
                <span class="badge" id="badge-education"></span>
            </button>
            <button class="nav-tab" data-section="skills">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>
                </svg>
                <span>Skills</span>
                <span class="badge" id="badge-skills"></span>
            </button>
            <button class="nav-tab" data-section="certifications">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="8" r="7"></circle>
                    <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>
                </svg>
                <span>Certifications</span>
                <span class="badge" id="badge-certifications"></span>
            </button>
        </nav>
        <button class="nav-scroll-indicator right" id="scroll-right" aria-label="Scroll right">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
        </button>
        </div>
    </header>

    <!-- Main Layout -->
    <div class="main-layout">
        <!-- Content Area -->
        <div class="content-area">
            <div class="content-container">
                <!-- ATS Tips -->
                <div class="ats-tips" id="ats-tips">
                    <div class="tips-header">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="16" x2="12" y2="12"></line>
                            <line x1="12" y1="8" x2="12.01" y2="8"></line>
                        </svg>
                        <h3>ATS Optimization Tips</h3>
                        <button class="zoom-btn" id="toggle-tips">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                        </button>
                    </div>
                    <div class="tips-content" id="ats-tips-content">
                        <p>Select a template to see role-specific ATS optimization tips.</p>
                    </div>
                </div>

                <!-- Personal Info Section -->
                <div class="section active" data-section="personal">
                    <div class="section-header">
                        <h2>Personal Information</h2>
                    </div>
                    <div class="form-card">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Full Name <span class="required">*</span></label>
                                <input type="text" id="full-name" placeholder="John Doe">
                            </div>
                            <div class="form-group">
                                <label>Job Title <span class="required">*</span></label>
                                <input type="text" id="job-title" placeholder="Senior Software Engineer">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Email <span class="required">*</span></label>
                                <input type="email" id="email" placeholder="john@example.com">
                            </div>
                            <div class="form-group">
                                <label>Phone</label>
                                <input type="tel" id="phone" placeholder="+1 (555) 123-4567">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Location</label>
                                <input type="text" id="location" placeholder="San Francisco, CA">
                            </div>
                            <div class="form-group">
                                <label>LinkedIn</label>
                                <input type="text" id="linkedin" placeholder="linkedin.com/in/johndoe">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>GitHub</label>
                                <input type="text" id="github" placeholder="github.com/johndoe">
                            </div>
                            <div class="form-group">
                                <label>Portfolio</label>
                                <input type="text" id="portfolio" placeholder="johndoe.com">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Summary Section -->
                <div class="section" data-section="summary">
                    <div class="section-header">
                        <h2>Professional Summary</h2>
                    </div>
                    <div class="form-card">
                        <div class="form-group">
                            <label>Summary</label>
                            <textarea id="summary-text" rows="6" placeholder="Results-driven professional with X years of experience..."></textarea>
                            <div class="input-footer">
                                <small>3-5 sentences with key achievements and skills</small>
                                <span id="summary-char-count">0 / 500</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Experience Section -->
                <div class="section" data-section="experience">
                    <div class="section-header">
                        <h2>Work Experience</h2>
                        <button class="btn-add" id="add-experience">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            Add Experience
                        </button>
                    </div>
                    <div id="experience-list" class="list-container">
                        <div class="empty-state" id="experience-empty">
                            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                                <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                                <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                            </svg>
                            <p>No experience added yet</p>
                            <span>Click "Add Experience" to get started</span>
                        </div>
                    </div>
                </div>

                <!-- Projects Section -->
                <div class="section" data-section="projects">
                    <div class="section-header">
                        <h2>Projects</h2>
                        <button class="btn-add" id="add-project">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            Add Project
                        </button>
                    </div>
                    <div id="projects-list" class="list-container">
                        <div class="empty-state" id="projects-empty">
                            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                                <polyline points="16 18 22 12 16 6"></polyline>
                                <polyline points="8 6 2 12 8 18"></polyline>
                            </svg>
                            <p>No projects added yet</p>
                            <span>Click "Add Project" to showcase your work</span>
                        </div>
                    </div>
                </div>

                <!-- Education Section -->
                <div class="section" data-section="education">
                    <div class="section-header">
                        <h2>Education</h2>
                        <button class="btn-add" id="add-education">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            Add Education
                        </button>
                    </div>
                    <div id="education-list" class="list-container">
                        <div class="empty-state" id="education-empty">
                            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                                <path d="M22 10v6M2 10l10-5 10 5-10 5z"></path>
                                <path d="M6 12v5c0 2 2 3 6 3s6-1 6-3v-5"></path>
                            </svg>
                            <p>No education added yet</p>
                            <span>Click "Add Education" to add your qualifications</span>
                        </div>
                    </div>
                </div>

                <!-- Skills Section -->
                <div class="section" data-section="skills">
                    <div class="section-header">
                        <h2>Skills</h2>
                        <button class="btn-add" id="add-skill">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            Add Skill
                        </button>
                    </div>
                    <div id="skills-list" class="skills-grid">
                        <div class="empty-state" id="skills-empty">
                            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                                <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>
                            </svg>
                            <p>No skills added yet</p>
                            <span>Click "Add Skill" to list your technical skills</span>
                        </div>
                    </div>
                </div>

                <!-- Certifications Section -->
                <div class="section" data-section="certifications">
                    <div class="section-header">
                        <h2>Certifications</h2>
                        <button class="btn-add" id="add-certification">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            Add Certification
                        </button>
                    </div>
                    <div id="certifications-list" class="list-container">
                        <div class="empty-state" id="certifications-empty">
                            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                                <circle cx="12" cy="8" r="7"></circle>
                                <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>
                            </svg>
                            <p>No certifications added yet</p>
                            <span>Click "Add Certification" to add your credentials</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Preview Panel -->
        <aside class="preview-panel" id="preview-panel">
            <div class="preview-header">
                <h3>Preview</h3>
                <div class="preview-controls">
                    <button class="zoom-btn" id="zoom-out">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                            <line x1="8" y1="11" x2="14" y2="11"></line>
                        </svg>
                    </button>
                    <span class="zoom-level" id="zoom-level">100%</span>
                    <button class="zoom-btn" id="zoom-in">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                            <line x1="11" y1="8" x2="11" y2="14"></line>
                            <line x1="8" y1="11" x2="14" y2="11"></line>
                        </svg>
                    </button>
                    <button class="zoom-btn preview-close" id="close-preview-mobile" style="display: none;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="preview-content">
                <div class="resume-wrapper" id="resume-wrapper">
                    <div class="resume" id="resume-output">
                        <div class="resume-placeholder">
                            <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                                <line x1="16" y1="13" x2="8" y2="13"></line>
                                <line x1="16" y1="17" x2="8" y2="17"></line>
                            </svg>
                            <p>Start filling in your details to see your resume</p>
                        </div>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <!-- Mobile Preview Toggle -->
    <button class="mobile-preview-toggle" id="toggle-preview-mobile">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
            <circle cx="12" cy="12" r="3"></circle>
        </svg>
    </button>

    <!-- Toast Container -->
    <div class="toast-container" id="toast-container"></div>

    <!-- Autosave Indicator -->
    <div class="autosave-indicator" id="autosave-indicator">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
            <polyline points="22 4 12 14.01 9 11.01"></polyline>
        </svg>
        <span>Auto-saved</span>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="js/app.js"></script>
    <script>
        // ===== SMOOTH SCROLLING FOR NAVIGATION TABS =====
        (function() {
            const navTabs = document.getElementById('nav-tabs');
            const navWrapper = document.getElementById('nav-tabs-wrapper');
            const scrollLeft = document.getElementById('scroll-left');
            const scrollRight = document.getElementById('scroll-right');

            if (!navTabs) return;

            // Smooth scroll function with easing
            function smoothScroll(element, target, duration) {
                const start = element.scrollLeft;
                const change = target - start;
                const startTime = performance.now();

                function easeInOutQuad(t) {
                    return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;
                }

                function animateScroll(currentTime) {
                    const elapsed = currentTime - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    const eased = easeInOutQuad(progress);
                    
                    element.scrollLeft = start + (change * eased);
                    
                    if (progress < 1) {
                        requestAnimationFrame(animateScroll);
                    }
                }

                requestAnimationFrame(animateScroll);
            }

            // Scroll left button
            if (scrollLeft) {
                scrollLeft.addEventListener('click', () => {
                    const scrollAmount = navTabs.clientWidth * 0.7;
                    smoothScroll(navTabs, navTabs.scrollLeft - scrollAmount, 300);
                });
            }

            // Scroll right button
            if (scrollRight) {
                scrollRight.addEventListener('click', () => {
                    const scrollAmount = navTabs.clientWidth * 0.7;
                    smoothScroll(navTabs, navTabs.scrollLeft + scrollAmount, 300);
                });
            }

            // Check if tabs overflow and show indicators
            function checkOverflow() {
                const hasOverflow = navTabs.scrollWidth > navTabs.clientWidth;
                if (hasOverflow) {
                    navWrapper.classList.add('has-scroll');
                } else {
                    navWrapper.classList.remove('has-scroll');
                }

                // Update indicator visibility based on scroll position
                if (scrollLeft && scrollRight) {
                    scrollLeft.style.display = navTabs.scrollLeft > 10 ? 'flex' : 'none';
                    scrollRight.style.display = 
                        navTabs.scrollLeft < (navTabs.scrollWidth - navTabs.clientWidth - 10) ? 'flex' : 'none';
                }
            }

            // Mouse wheel horizontal scroll
            navTabs.addEventListener('wheel', (e) => {
                if (e.deltaY !== 0) {
                    e.preventDefault();
                    navTabs.scrollLeft += e.deltaY;
                }
            }, { passive: false });

            // Touch swipe for mobile
            let touchStartX = 0;
            let scrollStartX = 0;

            navTabs.addEventListener('touchstart', (e) => {
                touchStartX = e.touches[0].clientX;
                scrollStartX = navTabs.scrollLeft;
            }, { passive: true });

            navTabs.addEventListener('touchmove', (e) => {
                const touchX = e.touches[0].clientX;
                const diff = touchStartX - touchX;
                navTabs.scrollLeft = scrollStartX + diff;
            }, { passive: true });

            // Update on scroll
            navTabs.addEventListener('scroll', checkOverflow);

            // Update on resize
            window.addEventListener('resize', checkOverflow);

            // Initial check
            checkOverflow();
            setTimeout(checkOverflow, 100); // Double check after render
        })();

        // ===== MOBILE PREVIEW TOGGLE =====
        const togglePreviewMobile = document.getElementById('toggle-preview-mobile');
        const closePreviewMobile = document.getElementById('close-preview-mobile');
        const previewPanel = document.getElementById('preview-panel');

        if (togglePreviewMobile) {
            togglePreviewMobile.addEventListener('click', () => {
                previewPanel.classList.add('open');
                if (closePreviewMobile) closePreviewMobile.style.display = 'block';
            });
        }

        if (closePreviewMobile) {
            closePreviewMobile.addEventListener('click', () => {
                previewPanel.classList.remove('open');
            });
        }

        // Close preview when clicking outside on mobile
        if (window.innerWidth <= 768 && previewPanel) {
            previewPanel.addEventListener('click', (e) => {
                if (e.target === previewPanel) {
                    previewPanel.classList.remove('open');
                }
            });
        }

        // ===== NAVIGATION TABS SWITCHING =====
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                const section = tab.dataset.section;
                
                // Update active tab
                document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // Update active section
                document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
                const targetSection = document.querySelector(`.section[data-section="${section}"]`);
                if (targetSection) targetSection.classList.add('active');

                // Scroll active tab into view
                tab.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
            });
        });
    </script>
</body>
</html>